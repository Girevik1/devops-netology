### Задача 1

**Напишите список операций, которые вы будете производить для остановки запроса пользователя**

- Определить текущую операцию командой:

`db.currentOp()`

- Завершить операцию по opid

`db.killOp()`

**Предложите вариант решения проблемы с долгими (зависающими) запросами в MongoDB**

>1.Необходимо проанализировать запрос, и если необходимо, то переписать запрос, добавить/перенастроить индекс.<br>
2.Присмотреться к оборудованию, может проблема в нем.<br>
3.Можно установить предел для исполнения запроса.

### Задача 2

`Ответ:`

>Проблема скорей всего в том что вся память занята истекшими в один и тот же момент ключами которые еще не удаленны, 
так как Redis однопоточный - запросы происходят последовательно.<br>
Если в текущей выборке ключей количество истекших будет более 25%, Redis заблокирует очистку и будет повторять процедуру до тех пор, 
пока количество не будет меньше 25%

### Задача 3  
Вы подняли базу данных MySQL для использования в гис-системе. При росте количества записей, в таблицах базы, пользователи начали жаловаться на ошибки вида:
<br>
`InterfaceError: (InterfaceError) 2013: Lost connection to MySQL server during query u'SELECT..... '`<br>
Как вы думаете, почему это начало происходить и как локализовать проблему? Какие пути решения данной проблемы вы можете предложить?<br>

`Ответ:`

>Проблема возникла при росте кол-ва записей, запросы стали обрабатываться дольше, соответственно большие объемы данных -
которые не успевают обрабатываться.<br>
Увеличиваем параметр `net_read_timeout`<br>

>Еще в качестве причины может быть проблема с таймаутом подключения<br>
Увеличивания значения `connect_timeout`<br>

>Так же возможно, что размер запроса превышает размер буфера и нужно смотреть на `max_allowed_packet` и соотвественно увеличить значение.

### Задача 4
Вы решили перевести гис-систему из задачи 3 на PostgreSQL, так как прочитали в документации, что эта СУБД работает с большим объемом данных лучше, чем MySQL.

После запуска пользователи начали жаловаться, что СУБД время от времени становится недоступной. В dmesg вы видите, что:

`postmaster invoked oom-killer`

Как вы думаете, что происходит?

Как бы вы решили данную проблему?

`Ответ:`

>Причина в недостатке ресурсов оперативной памяти, в результате специальный механизм oom-killer убивает процесс postgres, 
чтобы предотвратить падение всей системы.

>Для предотвращения сбоев, необходимо увеличить объем ОЗУ или корректно настроить потребление памяти в настройках postgres.<br>

