**1.Какой системный вызов делает команда cd? В прошлом ДЗ мы выяснили, что cd не является самостоятельной программой, 
это shell builtin, поэтому запустить strace непосредственно на cd не получится. Тем не менее, вы можете запустить strace на /bin/bash -c 'cd /tmp'. В этом случае вы увидите полный список системных вызовов, которые делает сам bash при старте. Вам нужно найти тот единственный, который относится именно к cd.**<br />
<em>Решение:<em><br />
>***В нашем случае системный вызов команды ```CD -> chdir("/tmp")```.***

**2.Попробуйте использовать команду file на объекты разных типов на файловой системе.**<br />
<em>Решение:<em><br />
>***Файл базы типов - /usr/share/misc/magic.mgc<br />
в тексте это:<br /><br />***
openat(AT_FDCWD, "/usr/share/misc/magic.mgc", O_RDONLY) = 3<br /><br />
stat("/home/alex/.magic.mgc", 0x7ffedefbea50) = -1 ENOENT (Нет такого файла или каталога)<br />
stat("/home/alex/.magic", 0x7ffedefbea50) = -1 ENOENT (Нет такого файла или каталога)<br />
openat(AT_FDCWD, "/etc/magic.mgc", O_RDONLY) = -1 ENOENT (Нет такого файла или каталога)<br />
stat("/etc/magic", {st_mode=S_IFREG|0644, st_size=111, ...}) = 0<br />
openat(AT_FDCWD, "/etc/magic", O_RDONLY) = 3<br /><br />
> ***Поведение аналогичное и на хоствой машине и на виртуалке.***<br />

**3.Предположим, приложение пишет лог в текстовый файл. Этот файл оказался удален (deleted в lsof), однако возможности 
сигналом сказать приложению переоткрыть файлы или просто перезапустить приложение – нет. Так как приложение продолжает 
писать в удаленный файл, место на диске постепенно заканчивается. Основываясь на знаниях о перенаправлении потоков 
предложите способ обнуления открытого удаленного файла (чтобы освободить место на файловой системе).**<br />
<em>Решение:<em><br />
>***Попробовал с текстовым редактором vi***<br /><br />
vagrant@vagrant:~$ lsof -p 1126<br />
...<br />
vi      1126 vagrant    4u   REG  253,0    12288  526898 /home/vagrant/.tst_bash.swp (deleted)<br /><br />
vagrant@vagrant:~$ echo '' >/proc/1126/fd/4<br /><br />
>***где 1126 - PID процесса vi<br />
4 - дескриптор файла , который предварительно удалил.***<br />

**4.Занимают ли зомби-процессы какие-то ресурсы в ОС (CPU, RAM, IO)?**<br />
<em>Ответ:<em>
>***"Зомби" процессы, в отличии от "сирот" освобождают свои ресурсы, но не освобождают запись в таблице процессов. 
Запись освободиться при вызове wait() родительским процессом.***

**5.В iovisor BCC есть утилита opensnoop:**<br /><br />
*root@vagrant:~# dpkg -L bpfcc-tools | grep sbin/opensnoop<br />
/usr/sbin/opensnoop-bpfcc*<br /><br />
**На какие файлы вы увидели вызовы группы open за первую секунду работы утилиты? Воспользуйтесь пакетом bpfcc-tools для 
Ubuntu 20.04. Дополнительные сведения по установке.**<br /><br />
<em>Решение:<em>
>```vagrant@vagrant:~sudo -i```<br /><br />
```root@vagrant:~# dpkg -L bpfcc-tools | grep sbin/opensnoop```<br />
/usr/sbin/opensnoop-bpfcc<br /><br />
```root@vagrant:~# /usr/sbin/opensnoop-bpfcc```<br />
PID    COMM               FD ERR PATH<br />
766    vminfo              6   0 /var/run/utmp<br />
562    dbus-daemon        -1   2 /usr/local/share/dbus-1/system-services<br />
562    dbus-daemon        18   0 /usr/share/dbus-1/system-services<br />
562    dbus-daemon        -1   2 /lib/dbus-1/system-services<br />
562    dbus-daemon        18   0 /var/lib/snapd/dbus-1/system-services/<br />

**6.Какой системный вызов использует uname -a? Приведите цитату из man по этому системному вызову, где описывается альтернативное местоположение в /proc, где можно узнать версию ядра и релиз ОС.**<br />
<em>Решение:<em><br />
>***системный вызов uname()<br /><br />***
>Цитата:<br />
     ```Part of the utsname information is also accessible  via  /proc/sys/ker‐
       nel/{ostype, hostname, osrelease, version, domainname}.```<br />

**7.Чем отличается последовательность команд через ; и через && в bash? Например:<br /><br />**
root@netology1:~# test -d /tmp/some_dir; echo Hi<br />
Hi<br />
root@netology1:~# test -d /tmp/some_dir && echo Hi<br />
root@netology1:~#<br /><br />
**Есть ли смысл использовать в bash &&, если применить set -e?<br /><br />**
<em>Решение:<em>
>***```&&``` -  условный оператор.<br /> 
```;```  - разделитель последовательных команд.<br /><br />
```test -d /tmp/some_dir && echo Hi``` - в данном случае echo  отработает только при успешном заверщении команды test.<br /><br />
```set -e``` - прерывает сессию при любом ненулевом значении исполняемых команд в конвеере кроме последней.<br /><br />
В случае ```&&```  вместе с ```set -e``` не имеет смысла, так как при ошибке, выполнение команд прекратится.<br />***

**8.Из каких опций состоит режим bash set -euxo pipefail и почему его хорошо было бы использовать в сценариях?**<br />
<br />
<em>Решение:<em>
>```-e``` прерывает выполнение исполнения при ошибке любой команды кроме последней в последовательности<br />
```-x``` вывод трейса простых команд<br />
``-u`` неустановленные/не заданные параметры и переменные считаются как ошибки, с выводом в stderr текста ошибки и выполнит
> завершение неинтерактивного вызова<br />
``-o`` pipefail возвращает код возврата набора/последовательности команд, ненулевой при последней команды или 0 для 
> успешного выполнения команд.<br />

**9.Используя -o stat для ps, определите, какой наиболее часто встречающийся статус у процессов в системе. 
В man ps ознакомьтесь (/PROCESS STATE CODES) что значат дополнительные к основной заглавной буквы статуса процессов. 
Его можно не учитывать при расчете (считать S, Ss или Ssl равнозначными).**<br /><br />
<em>Решение:<em>
>```S*(S,S+,Ss,Ssl,Ss+)``` - Процессы ожидающие завершения (спящие с прерыванием "сна")<br />
```I*(I,I<)``` - фоновые(бездействующие) процессы ядра.<br />
Доп символы это доп характеристики, например приоритет.<br />

